diff -u -r percona-xtrabackup-percona-xtrabackup-2.3.6/sql/mysqld.cc percona-xtrabackup-percona-xtrabackup-2.3.6/sql/mysqld.cc
--- percona-xtrabackup-percona-xtrabackup-2.3.6/sql/mysqld.cc	2016-11-25 17:05:53.000000000 +0800
+++ percona-xtrabackup-percona-xtrabackup-2.3.6/sql/mysqld.cc	2023-06-17 22:07:44.000000000 +0800
@@ -693,7 +693,7 @@
 struct system_variables max_system_variables;
 struct system_status_var global_status_var;
 
-MY_TMPDIR mysql_tmpdir_list;
+extern MY_TMPDIR mysql_tmpdir_list;
 MY_BITMAP temp_pool;
 
 CHARSET_INFO *system_charset_info, *files_charset_info ;
diff -u -r percona-xtrabackup-percona-xtrabackup-2.3.6/sql/sql_acl.cc percona-xtrabackup-percona-xtrabackup-2.3.6/sql/sql_acl.cc
--- percona-xtrabackup-percona-xtrabackup-2.3.6/sql/sql_acl.cc	2016-11-25 17:05:53.000000000 +0800
+++ percona-xtrabackup-percona-xtrabackup-2.3.6/sql/sql_acl.cc	2023-06-17 22:05:15.000000000 +0800
@@ -3014,7 +3014,7 @@
       * An empty password is considered to be of mysql_native type.
     */
     
-    if (combo->plugin.str == NULL || combo->plugin.str == '\0')
+	  if (combo->plugin.str == NULL || *combo->plugin.str == '\0')
     {
       if (combo->uses_identified_by_password_clause)
       {
diff -u -r percona-xtrabackup-percona-xtrabackup-2.3.6/storage/innobase/xtrabackup/src/xbstream.c percona-xtrabackup-percona-xtrabackup-2.3.6/storage/innobase/xtrabackup/src/xbstream.c
--- percona-xtrabackup-percona-xtrabackup-2.3.6/storage/innobase/xtrabackup/src/xbstream.c	2016-11-25 17:05:53.000000000 +0800
+++ percona-xtrabackup-percona-xtrabackup-2.3.6/storage/innobase/xtrabackup/src/xbstream.c	2023-06-17 22:01:29.000000000 +0800
@@ -45,7 +45,7 @@
 datasink_t datasink_compress;
 datasink_t datasink_tmpfile;
 datasink_t datasink_encrypt;
-datasink_t datasink_buffer;
+extern datasink_t datasink_buffer;
 
 static run_mode_t 	opt_mode;
 static char *		opt_directory = NULL;
